{% extends "_layout.html" %}

{# Navigation #}
{% set active_app = 'Countries' %}
{% set active_page = page %}

{% block title %}
  {{ super() }} - {{ page }}
{% endblock %}

{% block head %}
  {{ super() }}

  <link rel="stylesheet" href="/static/css/countries.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
  <script type="text/javascript" src="/static/js/main.js"></script>
{% endblock %}

{# Layout Menu #}
{% block menu %}
  {{ menu_item('All Countries', countries_url) }}
  {% for c in country_list %}
    {{ menu_item(c.label, c.url) }}
  {% endfor %}
{% endblock %}

{% block content %}
  <h1>{{ page }}</h1>

  {% if country %}
    <h2>Number of Idiots: {{ country.stat }}</h2>
  {% else %}
    <canvas id="bar-chart"></canvas>

    <button class="refresh" type="button" data-key="1">UK</button>
    <button class="refresh" type="button" data-key="2">Istanbul</button>
    <button class="refresh" type="button" data-key="3">Ireland</button>
  {% endif %}
{% endblock %}